# OpenBoards Design Rules

## General

- Design system: shadcn/ui + Tailwind v4.
- Build pages as compositions of small, focused components in `src/components/*`.
- Prefer clarity and accessibility over micro-optimizations.

## Layout & Navigation

- Sidebar-first shell (icons) with org switcher at the top.
- Org-bound pages live under `/dashboard/[org]/*` and inherit the sidebar.
- Org-agnostic pages: `/dashboard/organization/select`, `/dashboard/organization/setup`.
- Breadcrumbs appear in the content inset, not inside the sidebar.

## Components

- Place domain components under `src/components/org/*` (switcher, settings, members, invites, delete).
- Place shell components under `src/components/sidebar/*`.
- Keep primitives in `src/components/ui/*` (generated by shadcn).

## Server vs Client

- Server components fetch and prepare data; pass primitive props to clients.
- Client components own interactivity: dropdowns, dialogs, tables with inline controls, select inputs.
- Add `'use client'` only when necessary.

## Forms

- Use shadcn `Form` + React Hook Form + Zod.
- Show `FormMessage` under controls; keep labels visible.
- Submit buttons show pending state; disable inputs while submitting.
- Prefer redirect or `router.refresh()` after async success.
- Normalize errors into user-friendly messages.

## Tables

- Use shadcn `Table` for members/invitations.
- Keep columns minimal; truncate long text; add tooltips if needed.
- Inline role editing uses `Select` with immediate server action submit.
- Always show an empty state (copy + CTA).

## Dialogs & Alerts

- Invite dialog: email + role, submit via server action.
- Delete org: `AlertDialog` with type-to-confirm (org name); destructive styling.
- Provide clear descriptions and consequences in dialog copy.

## Sidebar (icons-only)

- Collapsible behavior: icons-only by default; expand on content area presence.
- Tooltips on icon buttons; avoid ambiguous icons without labels in expanded state.
- Org switcher:
  - Dropdown with current org, list of orgs, keyboard shortcuts, and “Add organization”.
  - After switching, refresh the page to sync server state.

## Accessibility

- Ensure focus management in `Dialog`/`AlertDialog`.
- Provide meaningful `aria-label`s for icon-only buttons.
- Maintain color contrast; use badges for roles/status.
- Keyboard support: Escape to close, Tab order correct.

## Copywriting

- Friendly, concise, and action-oriented.
- Invite email and pages explain who invited and what permissions the role grants (where available).
- Error messages state what happened and how to resolve.

## Visual rhythm

- Use consistent spacing: sections with `Card` + `CardHeader`/`CardContent`.
- Keep headings (`text-xl`/`text-base`) and descriptions (`text-muted-foreground`) consistent.

## States

- Loading: skeletons in tables and forms.
- Empty: helpful illustrations/text + primary CTA.
- Error: inline messages; avoid toasts for critical blocking errors.

## Icons

- Use `lucide-react`; keep sizes consistent (`size-4`/`size-3.5`).
- Avoid mixing icon sets.

## Theming

- Respect shadcn tokens: `bg-sidebar-*`, `text-muted-foreground`, etc.
- Do not hard-code colors; use semantic classes.

## Conventions

- Filenames are kebab-case; component names are PascalCase.
- Co-locate client components next to their domain (e.g., `org/*`).
- Keep reusable pure components generic; pass callbacks for mutations.
